以下，コード抜粋
    /* サーバから文字列を受信する */
    strsize = Recv(sock, r_buf, R_BUFSIZE-1, 0);
    //FINパケットを受け取った時，文字長は0になる
    if(strsize == 0){
      /* サーバが切断したとき */
      printf("Connection closed.\n");
      break;
    }
    //以下略

解説
サーバーがダウンし，コネクションが終了する際，サーバーからFINパケットが送信され，クライアント側はそれをRecvで受け取ることができるが，
それはデータは特に含まれていない特殊なパケットであり，それを受け取った時にrecv(Recvの内部)で返されるデータの長さは０である．
よって，Recvを抜けた際に０が返された時はFINパケットを受け取った時と判断して，サーバーが落ちた旨のメッセージを表示して終了するようにした．